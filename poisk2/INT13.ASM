
;-- INT 13 -------------------------------------------------------------
; DISKETTE I/O
;       ότοτ ιξτεςζεκσ οβεσπεώιχαετ δοστυπ λ  5.25 δΰκνοχονυ 360 KB,
;       1.2MB,720 KB, AND 1.44 MB δισλοχοδυ
; χθοδ
;       (AH)=OOH  σβςοσ δισλοχοκ σιστενω
;        απποςατξωκ σβςοσ NEC, ποδηοτοχιτεμψξαρ λοναξδα
;----------------------------------------------------------------------------
;       (AH)=01H  ώτεξιε στατυσα σιστενω χ (AH)
;                 DISKETTE_STATUS ποσμεδξεκ δισλοχοκ οπεςαγιι
;----------------------------------------------------------------------------
;       ςεηιστςω δμρ ώτεξιρ/ϊαπισι/χεςιζιλαγιι
;       (DL) - ξονες δισλοχοδα (0-1 , ϊξαώεξιε πςοχεςρετσρ)
;       (DH) - ξονες ηομοχλι (0-1 ALLOWED, NOT VALUE CHECKED)
;       (CH) - ξονες δοςοφλι (NOT VALUE CHECKED)
;                 MEDIA     DRIVE        TRACK NUMBER
;                320/360   320/360           0-39
;                320/360    1.2M             0-39
;                 1.2M      1.2M             0-79
;                 720K      720K             0-79
;                 1.44M     1.44M            0-79
;       (CL) - ξονες σελτοςα (ϊξαώεξιε ξε πςοχεςρετσρ, ξε ισπομψϊυετσρ πςι
;                            ζοςνατιςοχαξιι)
;                 MEDIA     DRIVE        SECTOR NUMBER
;                320/360   320/360            1-8/9
;                320/360    1.2M              1-8/9
;                 1.2M      1.2M              1-15
;                 720K      720K              1-9
;                 1.44M     1.44M             1-18
;       (AL) - ώισμο σελτοςοχ (ϊξαώεξιε ξε πςοχεςρετσρ, ξε ισπομψϊυετσρ πςι
;			      ζοςνατιςοχαξιι)
;                 MEDIA     DRIVE        MAX NUMBER OF SECTORS
;                320/360   320/360               8/9
;                320/360    1.2M                 8/9
;                 1.2M      1.2M                 15
;                 720K      720K                  9
;                 1.44M     1.44M                18
;
;       (ES:BX) - αδςεσσ βυζζεςα (ξε ισπομψϊυετσρ πςι χεςιζιλαγιι)
;
;---------------------------------------------------------------------------
;       (AH)=02H  ώτεξιε υλαϊαξξοηο σελτοςα χ πανρτψ
;----------------------------------------------------------------------------
;       (AH)=03H  ϊαπισψ υλαϊαξξοηο συλτοςα χ πανρτψ
;----------------------------------------------------------------------------
;       (AH)=04H  χεςιζιλαγιρ υλαϊαξξοηο σελτοςα
;----------------------------------------------------------------------------
;       (AH)=05H  ζοςνατιςοχαξιε υλαϊαξξοηο σελτοςα
;                 (ES,BX) δομφεξ υλαϊωχατψ ξα οβμαστψ δαξξωθ παςανετςοχ
;                 δισλετω . λαφδαρ οβμαστψ χλμΰώαετ 4 βακτα  (C,H,R,N),
;                 ηδε:
;                 C = ώισμο δοςοφελ, H=ώισμο ηομοχολ, R = ώισμο σελτοςοχ,
;		  N= ώισμο βακτ ξα σελτος (00=128, 01=256, 02=512, 03=1024,)
;                 πςογεδυςα ζοςνατιςοχαξιρ δοπυσλαετ
;                 υσταξοχλυ ζοςνατα ναλσιναμψξοκ πμοτξοστι δμρ δαξξοηο δισλοχοδα
;                 παςανετςω DISK_BASE δομφξω βωτψ ςασπομοφεξω χ ποςρδλε
;                 -------------------------------------------
;                 : MEDIA  :  DRIVE         : PARM1 : PARM2 :
;                 -------------------------------------------
;                 : 320K   : 320K/360K/1.2M :  50H  :   8   :
;                 : 360K   : 320K/360K/1.2M :  50H  :   9   :
;                 : 1.2M   :    1.2M        :  54H  :  15   :
;                 : 720K   :  720K/1.44M    :  50H  :   9   :
;                 : 1.44M  :  1.44M         :  6CH  :  18   :
;                 -------------------------------------------
;                 ϊανετιν:-PARM 1=πςονεφυτολ δμρ ζοςνατα
;                         -PARM 2=EOT (ποσμεδξικ σελτος χ τςελε)
;                         -DISK_BASE ότο υλαϊατεμψ ξα οβμαστψ ςασπομοφεξιρ
;                          παςανετςοχ δισλα σ αβσομΰτξων αδςεσον 0:78
;------------------------------------------------------------------------------
;       (AH)=08H ώτεξιε παςανετςοχ δισλοχοδα
;         INPUT
;           (DL)-ξονες δισλοχοδα (0-1 ϊξαώεξιε πςοχεςρετσρ)
;         OUTPUT
;           (ES:DI) υλαϊατεμψ ξα ταβμιγυ παςανετςοχ
;           (CH)-ναλσιναμψξωκ ξονες δοςοφλι (νμαδϋιε 8 βιτ)
;           (CL)-ναλσιναμψξωκ ξονες σελτοςα(ι σταςϋιε βιτω ναλσιναμψξοηο
;		 ξονεςα δοςοφλι
;           (DH)-ναλσιναμψξωκ ξονες ηομοχλι
;------------------------------------------------------------------------------
;15H AT ώΙΤΑΤΨ ΤΙΠ ΔΙΣΛΑ (ΞΕΔΟΣΤΥΠΞΑ Χ XT BIOS)
;     χΘΟΔ: DL = ΔΙΣΛ
;    χΩΘΟΔ: AH = ΛΟΔ ΥΣΤΟΚΣΤΧΑ:
;                0 = ΥΣΤΟΚΣΤΧΟ DL ΟΤΣΥΤΣΤΧΥΕΤ
;                1 = ΔΙΣΛΕΤΑ; ΜΟΗΙΛΑ ΪΑΝΕΞΩ ΔΙΣΛΑ ΟΤΣΥΤΣΤΧΥΕΤ
;                2 = ΔΙΣΛΕΤΑ; ΜΟΗΙΛΑ ΪΑΝΕΞΩ ΔΙΣΛΑ ΔΟΣΤΥΠΞΑ (ΒΟΜΨΫΙΞΣΤΧΟ ΣΜΥήΑΕΧ)
;                3 = ΤΧΕΔΩΚ ΔΙΣΛ
;‹‹‹ ‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹
;16H AT ώΙΤΑΤΨ ΣΤΑΤΥΣ ΪΑΝΕΞΩ ΔΙΣΛΑ
;    χΩΘΟΔ: AH = ΛΟΔ ΣΤΑΤΥΣΑ:
;                0 = ΔΙΣΛ ΞΕ ΒΩΜ ΪΑΝΕΞΕΞ
;                6 = ΪΑΝΕΞΑ ΑΛΤΙΧΞΑ (ΟΤΛΩΤΑ ΔΙΣΛΟΧΑΡ ΔΧΕΨ);
;                    DL = ΞΟΝΕ ΪΑΝΕΞΡΕΝΟΗΟ ΔΙΣΛΑ
;‹‹‹ ‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹‹
;17H AT ΥΣΤΑΞΟΧΙΤΨ ΤΙΠ ΔΙΣΛΕΤΩ (ΙΣΠΟΜΨΪΥΕΤΣΡ ΠΕΕΔ ΟΠΕΑΓΙΕΚ ΖΟΝΑΤΙΟΧΑΞΙΡ)
;     χΘΟΔ: DL = ΞΟΝΕ ΥΣΤΟΚΣΤΧΑ ΔΙΣΛΑ (0 ΙΜΙ 1)
;           AL = ΤΙΠ ΞΟΣΙΤΕΜΡ ΔΙΣΛΑ:
;                0 = ΞΕ ΙΣΠΟΜΨΪΥΕΤΣΡ
;                1 = 360K ΔΙΣΛΕΤΑ Χ 360K ΥΣΤΟΚΣΤΧΕ
;                2 = 360K ΔΙΣΛΕΤΑ Χ 1.2M ΥΣΤΟΚΣΤΧΕ
;                3 = 1.2M ΔΙΣΛΕΤΑ Χ 1.2M ΥΣΤΟΚΣΤΧΕ
;€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€
;       (AH)=18H υσταξοχλα τιπα δμρ ζοςνατιςοχαξιρ
;       χθοδξωε ςεηιστςω
;       (CH) - σ 8 πο 10 βιτω - νμαδϋιε βιτω ναλσιναμψξοηο ώισμα δοςοφελ
;       (CL) - βιτω 7 ι 6 - σταςϋιε δχα βιτα ναλσιναμψξοηο ώισμα δοςοφελ
;            - βιτω 5 - 0 -ναλσιναμψξοε ώισμο σελτοςοχ ξα δοςοφλε
;       (DL) - ξονες δισλοχοδα (0-1 ϊξαώεξιε πςοχεςρετσρ)
;       χωθοδξωε ςεηιστςω
;       (ES:DI) - υλαϊατεμψ ξα ταβμιγυ παςανετςοχ ότοηο τιπα δισλετ,
;		  εσμι AH ξυμεχοε
;       (AH) - 00H, CY=0 ,ότι παςανετςω ποδδεςφιχαΰτσρ
;              01H, CY=1 ,ότα ζυξλγιρ ξε δοστυπξα
;              0CH, CY=1 ,ότι παςανετςω ξε ποδδεςφιχαΰτσρ
;                         ιμι ξειϊχεστξωκ τιπ
;            - 80H, CY=1 ,TIME OUT (δισλεττα ξε πςισυτστχυετ)
;-----------------------------------------------------------------------------
;
;    σοστορξιρ δισλα - αβσομΰτξωκ αδςεσσ 40:90 (δισλοχοδ A) ι 91 (δισλοχοδ B)
;
;   -----------------------------------------------------------------
;   |       |       |       |       |       |       |       |       |
;   |   7   |   6   |   5   |   4   |   3   |   2   |   1   |   0   |
;   |       |       |       |       |       |       |       |       |
;   -----------------------------------------------------------------
;       |       |       |       |       |       |       |       |
;       |       |       |       |       |       -----------------
;       |       |       |       |       |               |
;       |       |       |       |    ςεϊεςχ             --τελυύεε σοστορξιε
;       |       |       |       |
;       |       |       |       |        000: 360K χ 360K δισλοχοδ ξε υσταξοχμεξ
;       |       |       |       |        001: 360K χ 1.2M δισλοχοδ ξε υσταξοχμεξ
;       |       |       |       |        010: 1.2M χ 1.2M δισλοχοδ ξε υσταξοχμεξ
;       |       |       |       |        011: 360K χ 360K δισλοχοδ υσταξοχμεξ
;       |       |       |       |        100: 360K χ 1.2M δισλοχοδ υσταξοχμεξ
;       |       |       |       |        101: 1.2M χ 1.2M δισλοχοδ υσταξοχμεξ
;       |       |       |       |        110: ςεϊεςχ
;       |       |       |       |        111: ξε βομψϋε
;       |       |       |       |
;       |       |       |       ------> δισλετα/δισλοχοδ υσταξοχμεξω
;       |       |       |
;       |       |       --------------> δχοκξοκ ϋαη 360K χ 1.2M
;       |       |
;       |       |
;       ------------------------------> σλοςοστψ πεςεδαώι δαξξωθ δμρ ότοηο δισλοχοδα
;
;                                               00: 500 KBS
;                                               01: 300 KBS
;                                               10: 250 KBS
;                                               11: ςεϊεςχ
;--------------------------------------------------------------------------------

        ORG     0EC59H

DISKETTE_IO     PROC    FAR
        STI
        PUSH    BP
        PUSH    DI
        PUSH    DX
        PUSH    BX
        PUSH    CX
        MOV     BP,SP
        PUSH    DS
        PUSH    SI
        CALL    DDS

        MOV	LowLim,AX
        MOV	UPPP,055H
REPID_YES:        
	not	uppp
        CMP     AH,19H
                                        ; πςοχεςλα  19H ζυξλγιι
        JB      OK_FUNC
        MOV     AH,14H
OK_FUNC:
        CMP     AH,1                    ; πςοχεςλα 1 ι 8 ζυξλγικ
        JBE     OK_DRV                  ;
        CMP     AH,8                    ;
        JE      OK_DRV                  ;
        CMP     DL,1                    ;
        JBE     OK_DRV                  ;
        MOV     AH,14H                  ;
OK_DRV :
        MOV     CL,AH                   ; χωώισμεξιε αδςεσα χωπομξρενοκ ζυξλγιι
        XOR     CH,CH                   ;
        SHL     CL,1                    ;
        MOV     BX,OFFSET FNC_TAB       ;
        ADD     BX,CX                   ;
        MOV     AH,DH                   ;
        XOR     DH,DH                   ;
        MOV     SI,AX                   ;
        MOV     DI,DX                   ;
        MOV     AH,DISKETTE_STATUS      ; οβξυμεξιε DISKETTE_STATUS
        MOV     DISKETTE_STATUS,0       ;

;       δμρ χσεθ ζυξλγικ βιοσ σμυφεβξαρ ιξζοςναγιρ σοδεςφιτσρ χ ςεηιστςαθ ι χ
;       οβμαστρθ πανρτι. ξε χσε ζυξλγιι τςεβυΰτ πομξοηο ισπομψϊοχαξιρ χσεθ παςα
;       νετςοχ
;
;               DI      : δισλοχοδ #
;               SI-HI   : ηομοχλα  #
;               SI-LOW  : # σελτοςοχ ιμι τιπ DASD δμρ ζοςνατιςοχαξιρ
;               ES      : σεηνεξτ βυζεςα
;               [BP]    : σελτος #
;               [BP+1]  : δοςοφλα #
;               [BP2]   : BUFFER OFFSET
;
                                        ;
        CALL    WORD PTR CS:[BX]        ; πεςεθοδ ξα ξεοβθοδινυΰ ζυξλγιΰ
        JNC	EXIT_OP
        CMP	UPPP,0AAH
        JNE	EXIT_OP
        MOV	AX,LowLim
        MOV	CX,[BP]
        MOV	BX,[BP+2]
        MOV	DX,[BP+4]
        JMP	REPID_YES
EXIT_OP:               
        POP     SI                      ;
        POP     DS
        POP     CX
        POP     BX
        POP     DX
        POP     DI
        MOV     BP,SP
        PUSH    AX
        PUSHF
        POP     AX
        MOV     [BP+6],AX
        POP     AX
        POP     BP
        IRET
;----------------------------------------------------------------------------
FNC_TAB DW      DISK_RESET              ; AH = 00H; σβςοσ
        DW      DISK_STATUS             ; AH = 01H; στατυσ
        DW      DISK_READ               ; AH = 02H; ώτεξιε
        DW      DISK_WRITE              ; AH = 03H; ϊαπισψ
        DW      DISK_VERF               ; AH = 04H; χεςιζιλαγιρ
        DW      DISK_FORMAT             ; AH = 05H; ζοςνατιςοχαξιε
        DW      FNC_ERR                 ; AH = 06H; ξε ποδδεςφιχαετσρ
        DW      FNC_ERR                 ; AH = 07H; ξε ποδδεςφιχαετσρ
        DW      DISK_PARMS              ; AH = 08H; ώτεξιε παςανετςοχ δισλοχοδα
        DW      FNC_ERR                 ; AH = 09H; ξε ποδδεςφιχαετσρ
        DW      FNC_ERR                 ; AH = 0AH; ξε ποδδεςφιχαετσρ
        DW      FNC_ERR                 ; AH = 0BH; ξε ποδδεςφιχαετσρ
        DW      FNC_ERR                 ; AH = 0CH; ξε ποδδεςφιχαετσρ
        DW      FNC_ERR                 ; AH = 0DH; ξε ποδδεςφιχαετσρ
        DW      FNC_ERR                 ; AH = 0EH; ξε ποδδεςφιχαετσρ
        DW      FNC_ERR                 ; AH = 0FH; ξε ποδδεςφιχαετσρ
        DW      FNC_ERR                 ; AH = 10H; ξε ποδδεςφιχαετσρ
        DW      FNC_ERR                 ; AH = 11H; ξε ποδδεςφιχαετσρ
        DW      FNC_ERR                 ; AH = 12H; ξε ποδδεςφιχαετσρ
        DW      FNC_ERR                 ; AH = 13H; ξε ποδδεςφιχαετσρ
        DW      FNC_ERR                 ; AH = 14H; ξε ποδδεςφιχαετσρ
        DW      DISK_TYPE               ; AH = 15H; ώτεξιε DASD τιπα
        DW      DISK_CHANGE             ; AH = 16H; σνεξα στατυσα
        DW      FORMAT_SET              ; AH = 17H; υσταξοχλα DASD τιπα
        DW      SET_MEDIA               ; AH = 18H; υσταξοχλα τιπα δισλετω
FNC_TAE EQU     $                       ; λοξεγ
DISKETTE_IO     ENDP

MD_STRUC        STRUC
MD_SPEC1        DB      ?       ; SRT=D,HD UNLOAD=OF -IST SPECIFY BYTE
MD_SPEC2        DB      ?       ; HD LOAD=1,MODE=DMA -2ND SPECIFY BYTE
MD_OFF_TIM      DB      ?       ; οφιδαξιε ποσμε χλμΰώεξιρ νοτοςα         
MD_BYT_SEC      DB      ?       ; 512 βακτ/σελτος
MD_SEC_TRK      DB      ?       ; EQT (ποσμεδξικ σελτος ξα δοςοφλε)
MD_GAP          DB      ?       ; πςονεφυτολ νεφδυ ϊαπισρνι
MD_DTL          DB      ?       ; DTL
MD_GAP3         DB      ?       ; πςονεφυτολ δμρ ζοςνατιςοχαξιρ
MD_FIL_BYT      DB      ?       ; βακτ ϊαπομξεξιρ δμρ ζοςνατιςοχαξιρ
MD_HD_TIM       DB      ?       ; χςενρ υσταξοχλι ηομοχλι (νιμμισελυξδ)
MD_STR_TIM      DB      ?       ; χςενρ χλμΰώεξιρ νοτοςα ( 1/8 σελυξδ)
MD_MAX_TRK      DB      ?       ; ναλσιναμψξοε ώισμο δοςοφελ
MD_RATE         DB      ?       ; σλοςοστψ πεςεδαώι δαξξωθ
MD_STRUC        ENDS

TYPEDSK		EQU	42h    ;43H     ; χςενεξξο ξαϊξαώεξο !!! A=720K  B=1.44M

BIT7OFF         EQU     7FH
BIT7ON          EQU     80H

;--------- DISKETTE ERRORS-

MED_NOT_FND     EQU     00CH            ;τιπ δισλετω ξε οπςεδεμεξ

;----------ξοσιτεμψ/δισλοχοδ ιξδιλατοςω σοστορξιρ

TRK_CAPA        EQU     00000001B       ;80 δοςοφεώξωκ    
FMT_CAPA        EQU     00000010B       ;νξοηοσλοςοστξοκ (1.2MB)
DRV_DET         EQU     00000100B       ;βιτ οπςεδεμεξιρ δισλοχοδα
MED_DET         EQU     00010000B       ;βιτ οπςεδεμεξιρ δισλετω
DBL_STEP        EQU     00100000B       ;βιτ οπςεδεμεξιρ δισλετω
RATE_MSK        EQU     11000000B       ;νασλα δμρ οώιστλι χσεθ βιτ σλοςοστι
RATE_250        EQU     10000000B       ;250 KBS σλοςοστψ πεςεδαώι
RATE_300        EQU     01000000B       ;300 KBS σλοςοστψ πεςεδαώι
RATE_500        EQU     00000000B       ;500 KBS σλοςοστψ πεςεδαώι
STRT_MSK        EQU     00001100B       ;νασλα σταςτοχοκ σλοςοστι 
SEND_MSK        EQU     11000000B       ;νασλα δμρ ποσωμλι βιτ σλοςοστι

;----------ξοσιτεμψ/δισλοχοδ ιξδιλατοςω σοχνεστινοστι

M3D3U           EQU     00000000B       ;360 ξοσιτεμψ/δισλοχοδ ξε υσταξοχμεξ
M3D1U           EQU     00000001B       ;360 ξοσιτ,1.2δισλοχοδ ξε υσταξοχμεξ
M1D1U           EQU     00000010B       ;1.2 ξοσιτεμψ/δισλοχοδ ξε υσταξοχμεξ
MED_UNK         EQU     00000111B       ;ξιλτο ξε βομψϋε  

;----------CMOS ταβμιγα ςασπομοφεξιρ

CMOS_DIAG       EQU     00EH            ;βακτ διαηξοστιλι                   
CMOS_DISKETTE   EQU     010H            ;τιπω δισλοχοδοχ         



;------------------------------------------------------------------------------
;       ταβμιγω τιποχ δισλοχοδοχ
;----------------------------------------------------------------------------
DR_TYPE         DB      01              ; πεςχωκ τιπ            
                DW      OFFSET MD_TBL1
                DB      02+BIT7ON
                DW      OFFSET MD_TBL2
DR_DEFAULT      DB      02
                DW      OFFSET MD_TBL3
                DB      03
                DW      OFFSET MD_TBL4
                DB      04+BIT7ON
                DW      OFFSET MD_TBL5
                DB      04
                DW      OFFSET MD_TBL6
DR_TYPE_E       =$                      ; λοξεγ ταβμιγω
DR_CNT          EQU     (DR_TYPE_E-DR_TYPE)/3
;--------------------------------------------------------------------------
;       ξοσιτεμψ/δισλοχοδ ταβμιγω παςανετςοχ                              :
;--------------------------------------------------------------------------
;--------------------------------------------------------------------------
;       360 KB ξοσιτεμψ χ 360 δισλοχοδε                                   :
;--------------------------------------------------------------------------
MD_TBL1         LABEL BYTE
        DB      11011111B       ; SRT=D,HD UNLOAD=OF-1ST SPECIFY BYTE
        DB      2               ; HD LOAD=1,MODE=DMA-2ND SPECIFY BYTE
        DB      MOTOR_WAIT      ; χςενρ ςαβοτω νοτοςα ποσμε χλμΰώεξιρ     
        DB      2               ; 512 βακτ ξα σελτος
        DB      09              ; EOT ( ποσμεδξικ σελτος ξα δοςοφλε)
        DB      02AH            ; ςασστορξιε νεφδυ ϊαπισρνι
        DB      0FFH            ; DTL
        DB      050H            ; ςασστορξιε δμρ ζοςνατιςοχαξιρ
        DB      0F6H            ; βακτ ϊαπομξεξιρ δμρ ζοςνατιςοχαξιρ   
        DB      15              ; χςενρ υσταξοχλι ηομοχλι (νιμμισελυξδ)
        DB      8               ; χςενρ χλμΰώεξιρ νοτοςα ( 1/8 σελυξδ) 
        DB      39              ; ναλσιναμψξοε ώισμο δοςοφελ           
        DB      RATE_250        ; σλοςοστψ πεςεδαώι δαξξωθ             
;------------------------------------------------------------------------------
;       360 KB ξοσιτεμψ 1.2 MB δισλοχοδ                                    :
;-----------------------------------------------------------------------------
MD_TBL2         LABEL BYTE
        DB      11011111B       ; SRT=D,HD UNLOAD=OF-1ST SPECIFY BYTE    
        DB      2               ; HD LOAD=1,MODE=DMA-2ND SPECIFY BYTE    
        DB      MOTOR_WAIT      ; χςενρ ςαβοτω νοτοςα ποσμε χλμΰώεξιρ    
        DB      2               ; 512 βακτ ξα σελτος                     
        DB      09              ; EOT ( ποσμεδξικ σελτος ξα δοςοφλε)     
        DB      02AH            ; ςασστορξιε νεφδυ ϊαπισρνι              
        DB      0FFH            ; DTL                                    
        DB      050H            ; ςασστορξιε δμρ ζοςνατιςοχαξιρ          
        DB      0F6H            ; βακτ ϊαπομξεξιρ δμρ ζοςνατιςοχαξιρ     
        DB      15              ; χςενρ υσταξοχλι ηομοχλι (νιμμισελυξδ)  
        DB      8               ; χςενρ χλμΰώεξιρ νοτοςα ( 1/8 σελυξδ)   
        DB      39              ; ναλσιναμψξοε ώισμο δοςοφελ             
        DB      RATE_300        ; σλοςοστψ πεςεδαώι δαξξωθ               
;----------------------------------------------------------------------------
;       1.2 MB ξοσιτεμψ 1.2 MB δισλοχοδ                                    :
;---------------------------------------------------------------------------
MD_TBL3         LABEL BYTE
        DB      11011111B       ; SRT=D,HD UNLOAD=OF-1ST SPECIFY BYTE    
        DB      2               ; HD LOAD=1,MODE=DMA-2ND SPECIFY BYTE    
        DB      MOTOR_WAIT      ; χςενρ ςαβοτω νοτοςα ποσμε χλμΰώεξιρ    
        DB      2               ; 512 βακτ ξα σελτος                     
        DB      15              ; EOT ( ποσμεδξικ σελτος ξα δοςοφλε)     
        DB      01BH            ; ςασστορξιε νεφδυ ϊαπισρνι              
        DB      0FFH            ; DTL                                    
        DB      054H            ; ςασστορξιε δμρ ζοςνατιςοχαξιρ          
        DB      0F6H            ; βακτ ϊαπομξεξιρ δμρ ζοςνατιςοχαξιρ     
        DB      15              ; χςενρ υσταξοχλι ηομοχλι (νιμμισελυξδ)  
        DB      8               ; χςενρ χλμΰώεξιρ νοτοςα ( 1/8 σελυξδ)   
        DB      79              ; ναλσιναμψξοε ώισμο δοςοφελ             
        DB      RATE_500        ; σλοςοστψ πεςεδαώι δαξξωθ               
;-----------------------------------------------------------------------------
;       720 KB ξοσιτεμψ 720 KB δισλοχοδ                                       :
;-----------------------------------------------------------------------------
MD_TBL4         LABEL BYTE
        DB      11011111B       ; SRT=D,HD UNLOAD=OF-1ST SPECIFY BYTE    
        DB      2               ; HD LOAD=1,MODE=DMA-2ND SPECIFY BYTE    
        DB      MOTOR_WAIT      ; χςενρ ςαβοτω νοτοςα ποσμε χλμΰώεξιρ    
        DB      2               ; 512 βακτ ξα σελτος                     
        DB      09              ; EOT ( ποσμεδξικ σελτος ξα δοςοφλε)     
        DB      02AH            ; ςασστορξιε νεφδυ ϊαπισρνι              
        DB      0FFH            ; DTL                                    
        DB      050H            ; ςασστορξιε δμρ ζοςνατιςοχαξιρ          
        DB      0F6H            ; βακτ ϊαπομξεξιρ δμρ ζοςνατιςοχαξιρ     
        DB      15              ; χςενρ υσταξοχλι ηομοχλι (νιμμισελυξδ)  
        DB      8               ; χςενρ χλμΰώεξιρ νοτοςα ( 1/8 σελυξδ)   
        DB      79              ; ναλσιναμψξοε ώισμο δοςοφελ             
        DB      RATE_250        ; σλοςοστψ πεςεδαώι δαξξωθ               
;----------------------------------------------------------------------------
;       720 KB ξοσιτεμψ 1.44 MB δισλοχοδ                                     :
;----------------------------------------------------------------------------

MD_TBL5         LABEL BYTE
        DB      11011111B       ; SRT=D,HD UNLOAD=OF-1ST SPECIFY BYTE    
        DB      2               ; HD LOAD=1,MODE=DMA-2ND SPECIFY BYTE    
        DB      MOTOR_WAIT      ; χςενρ ςαβοτω νοτοςα ποσμε χλμΰώεξιρ    
        DB      2               ; 512 βακτ ξα σελτος                     
        DB      09              ; EOT ( ποσμεδξικ σελτος ξα δοςοφλε)     
        DB      02AH            ; ςασστορξιε νεφδυ ϊαπισρνι              
        DB      0FFH            ; DTL                                    
        DB      050H            ; ςασστορξιε δμρ ζοςνατιςοχαξιρ          
        DB      0F6H            ; βακτ ϊαπομξεξιρ δμρ ζοςνατιςοχαξιρ     
        DB      15              ; χςενρ υσταξοχλι ηομοχλι (νιμμισελυξδ)  
        DB      8               ; χςενρ χλμΰώεξιρ νοτοςα ( 1/8 σελυξδ)   
        DB      79              ; ναλσιναμψξοε ώισμο δοςοφελ             
        DB      RATE_250        ; σλοςοστψ πεςεδαώι δαξξωθ               
;----------------------------------------------------------------------------
;       1.44 MB ξοσιτεμψ 1.44 MB δισλοχοδ                                   :
;----------------------------------------------------------------------------

MD_TBL6         LABEL BYTE
        DB      10101111B       ; SRT=D,HD UNLOAD=OF-1ST SPECIFY BYTE    
        DB      2               ; HD LOAD=1,MODE=DMA-2ND SPECIFY BYTE    
        DB      MOTOR_WAIT      ; χςενρ ςαβοτω νοτοςα ποσμε χλμΰώεξιρ    
        DB      2               ; 512 βακτ ξα σελτος                     
        DB      18              ; EOT ( ποσμεδξικ σελτος ξα δοςοφλε)     
        DB      01BH            ; ςασστορξιε νεφδυ ϊαπισρνι              
        DB      0FFH            ; DTL                                    
        DB      06CH            ; ςασστορξιε δμρ ζοςνατιςοχαξιρ          
        DB      0F6H            ; βακτ ϊαπομξεξιρ δμρ ζοςνατιςοχαξιρ     
        DB      15              ; χςενρ υσταξοχλι ηομοχλι (νιμμισελυξδ)  
        DB      8               ; χςενρ χλμΰώεξιρ νοτοςα ( 1/8 σελυξδ)   
        DB      79              ; ναλσιναμψξοε ώισμο δοςοφελ             
        DB      RATE_500        ; σλοςοστψ πεςεδαώι δαξξωθ               

;-------------------------------------------------------------------------
;DISK_BASE
;       ότα ταβμιγα σοδεςφιτ παςανετςω ξεοβθοδινωε δμρ
;       δισλετξωθ οπεςαγικ.ξα ξεε υλαϊωχαετ DISK_POINTER
;       δμρ νοδιζιλαγιι παςανετςοχ ξεοβθοδινο ποστςοιτψ σχοΰ
;       ταβμιγυ ι ϊαηςυϊιτψ υλαϊατεμψ ξα ξεε χ DISK_POINTER      
;-------------------------------------------------------------------------
        ORG     0EFC7H
DISK_BASE       LABEL  BYTE
        DB      10011111B     ;SRT=9,HD UNLOAD=0F-IST SPECIFY BYTE
        DB      2             ;HD LOAD=1,MODE=DMA-2ND SPECIFY BYTE
        DB      MOTOR_WAIT    ; χςενρ ςαβοτω νοτοςα ποσμε χλμΰώεξιρ  
        DB      2             ; 512 βακτ ξα σελτος                   
        DB      18            ; EOT ( ποσμεδξικ σελτος ξα δοςοφλε)   
        DB      02AH          ; ςασστορξιε νεφδυ ϊαπισρνι            
        DB      0FFH          ; DTL                                  
        DB      050H          ; ςασστορξιε δμρ ζοςνατιςοχαξιρ        
        DB      0F6H          ; βακτ ϊαπομξεξιρ δμρ ζοςνατιςοχαξιρ   
        DB      25            ; χςενρ υσταξοχλι ηομοχλι (νιμμισελυξδ)
        DB      4             ; χςενρ χλμΰώεξιρ νοτοςα ( 1/8 σελυξδ) 

